import{r as l,R as e}from"./index-9fa1aa67.js";import{F as g}from"./Frame-d1abb87e.js";import{T as $}from"./Tooltip-210aa1f5.js";/* empty css                               */import{c as k}from"./createRuntimeFn-62c9670f.esm-edc6fb2c.js";import{lE as S}from"./Write1-633c63ef.js";import{m as o,a as s}from"./Modal-a1865b95.js";var N="r95_1ct83mo0",V="r95_1ct83mo1",R=k({defaultClassName:"r95_1ct83mo2",variantClassNames:{small:{true:"r95_1ct83mo3",false:"r95_1ct83mo4"},active:{true:"r95_1ct83mo5",false:"r95_1ct83mo6"}},defaultVariants:{},compoundVariants:[[{active:!0,small:!0},"r95_1ct83mo7"],[{active:!0,small:!1},"r95_1ct83mo8"]]}),I="r95_1ct83mo9";const y=()=>{const[c,m]=l.useState("");return l.useEffect(()=>{function i(a){return a<10?`0${a}`:a}const r=setInterval(()=>{const a=new Date,n=a.getHours(),d=a.getMinutes();m(`${i(n)}:${i(d)}`)});return()=>clearInterval(r)},[]),e.createElement(g,{boxShadow:"$in",px:"$6",py:"$2",display:"flex",justifyContent:"center",alignItems:"center"},e.createElement($,{className:V},c))};y.__docgenInfo={description:"",methods:[],displayName:"Clock"};const E=l.forwardRef(({children:c,small:m=!1,icon:i,active:r=!1,...a},n)=>e.createElement("button",{className:R({active:r,small:m}),...a,ref:n},e.createElement("div",{className:I},i),c));E.__docgenInfo={description:"",methods:[],displayName:"WindowButton",props:{small:{defaultValue:{value:"false",computed:!1},required:!1},active:{defaultValue:{value:"false",computed:!1},required:!1}}};const T=l.forwardRef(({list:c,className:m},i)=>{const[r,a]=l.useState(!1),[n,d]=l.useState(!1),[b,_]=e.useState([]),[w,x]=l.useState();return l.useEffect(()=>{const f=t=>{_(M=>[...M,t])},u=t=>{_(M=>{const h=M.filter(C=>C.id!==t.id),v=h.at(-1);return!w&&v&&o.emit(s.ModalVisibilityChanged,{id:v==null?void 0:v.id}),h})},p=({id:t})=>{x(t)};return o.on(s.AddModal,f),o.on(s.RemoveModal,u),o.on(s.ModalVisibilityChanged,p),()=>{o.off(s.AddModal,f),o.off(s.RemoveModal,u),o.off(s.ModalVisibilityChanged,p)}},[]),e.createElement(g,{position:"fixed",bottom:"0px",left:"0px",right:"0px",display:"flex",justifyContent:"space-between",h:"28px",w:"100%",padding:"$2",zIndex:"$taskbar",backgroundColor:"$material",boxShadow:"$out",ref:i,className:m},r&&e.createElement(g,{position:"absolute",bottom:"28px",onClick:()=>{d(!1),a(!1)}},c),e.createElement(E,{small:!0,icon:e.createElement(S,{variant:"32x32_4"}),active:n,onClick:()=>{d(!n),a(!r)}},"Start"),e.createElement(g,{w:"100%",paddingLeft:"$0",ml:"$2",display:"flex"},b.map(({icon:f,title:u,hasButton:p,id:t})=>p&&e.createElement(E,{key:t,icon:f,active:t===w,onClick:()=>{t===w?(o.emit(s.MinimizeModal,{id:t}),x("Minimize")):(o.emit(s.RestoreModal,{id:t}),o.emit(s.ModalVisibilityChanged,{id:t}))},small:!1},e.createElement("div",{className:N},u)))),e.createElement(y,null))});T.__docgenInfo={description:"",methods:[],displayName:"TaskBar"};export{T};
