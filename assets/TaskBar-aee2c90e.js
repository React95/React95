import{r as l,R as e}from"./index-9fa1aa67.js";import{F as _}from"./Frame-8a2a37ef.js";import{T as k}from"./Tooltip-61eba74b.js";import{c as $}from"./createRuntimeFn-62c9670f.esm-edc6fb2c.js";import{o as S}from"./Write1-9175756e.js";import{m as o,a as s}from"./Modal-f30c9f3b.js";var N="r95_1ct83mo0",V="r95_1ct83mo1",R=$({defaultClassName:"r95_1ct83mo2",variantClassNames:{small:{true:"r95_1ct83mo3",false:"r95_1ct83mo4"},active:{true:"r95_1ct83mo5",false:"r95_1ct83mo6"}},defaultVariants:{},compoundVariants:[[{active:!0,small:!0},"r95_1ct83mo7"],[{active:!0,small:!1},"r95_1ct83mo8"]]}),T="r95_1ct83mo9";const y=()=>{const[c,m]=l.useState("");return l.useEffect(()=>{function n(a){return a<10?`0${a}`:a}const i=setInterval(()=>{const a=new Date,r=a.getHours(),d=a.getMinutes();m(`${n(r)}:${n(d)}`)});return()=>clearInterval(i)},[]),e.createElement(_,{boxShadow:"$in",px:"$6",py:"$2",display:"flex",justifyContent:"center",alignItems:"center"},e.createElement(k,{className:V},c))};y.__docgenInfo={description:"",methods:[],displayName:"Clock"};const M=l.forwardRef(({children:c,small:m=!1,icon:n,active:i=!1,...a},r)=>e.createElement("button",{className:R({active:i,small:m}),...a,ref:r},e.createElement("div",{className:T},n),c));M.__docgenInfo={description:"",methods:[],displayName:"WindowButton",props:{small:{defaultValue:{value:"false",computed:!1},required:!1},active:{defaultValue:{value:"false",computed:!1},required:!1}}};const I=l.forwardRef(({list:c,className:m},n)=>{const[i,a]=l.useState(!1),[r,d]=l.useState(!1),[b,x]=e.useState([]),[g,E]=l.useState();return l.useEffect(()=>{const f=t=>{x(w=>[...w,t])},u=t=>{x(w=>{const h=w.filter(C=>C.id!==t.id),v=h.at(-1);return!g&&v&&o.emit(s.ModalVisibilityChanged,{id:v==null?void 0:v.id}),h})},p=({id:t})=>{E(t)};return o.on(s.AddModal,f),o.on(s.RemoveModal,u),o.on(s.ModalVisibilityChanged,p),()=>{o.off(s.AddModal,f),o.off(s.RemoveModal,u),o.off(s.ModalVisibilityChanged,p)}},[]),e.createElement(_,{position:"fixed",bottom:"0px",left:"0px",right:"0px",display:"flex",justifyContent:"space-between",h:"28px",w:"100%",padding:"$2",zIndex:"$taskbar",backgroundColor:"$material",boxShadow:"$out",ref:n,className:m},i&&e.createElement(_,{position:"absolute",bottom:"28px",onClick:()=>{d(!1),a(!1)}},c),e.createElement(M,{small:!0,icon:e.createElement(S,{variant:"32x32_4"}),active:r,onClick:()=>{d(!r),a(!i)}},"Start"),e.createElement(_,{w:"100%",paddingLeft:"$0",ml:"$2",display:"flex"},b.map(({icon:f,title:u,hasButton:p,id:t})=>p&&e.createElement(M,{key:t,icon:f,active:t===g,onClick:()=>{t===g?(o.emit(s.MinimizeModal,{id:t}),E("Minimize")):(o.emit(s.RestoreModal,{id:t}),o.emit(s.ModalVisibilityChanged,{id:t}))},small:!1},e.createElement("div",{className:N},u)))),e.createElement(y,null))});I.__docgenInfo={description:"",methods:[],displayName:"TaskBar"};export{I as T};
