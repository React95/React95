import{r as l,R as e}from"./index-9fa1aa67.js";import{F as v}from"./Frame-8a2a37ef.js";import{T as C}from"./Tooltip-61eba74b.js";import{c as k}from"./createRuntimeFn-62c9670f.esm-edc6fb2c.js";import{o as $}from"./Write1-9175756e.js";import{m as o,a as s}from"./Modal-f30c9f3b.js";var S="r95_1ct83mo0",N="r95_1ct83mo1",V=k({defaultClassName:"r95_1ct83mo2",variantClassNames:{small:{true:"r95_1ct83mo3",false:"r95_1ct83mo4"},active:{true:"r95_1ct83mo5",false:"r95_1ct83mo6"}},defaultVariants:{},compoundVariants:[[{active:!0,small:!0},"r95_1ct83mo7"],[{active:!0,small:!1},"r95_1ct83mo8"]]}),R="r95_1ct83mo9";const y=()=>{const[c,m]=l.useState("");return l.useEffect(()=>{function n(a){return a<10?`0${a}`:a}const i=setInterval(()=>{const a=new Date,r=a.getHours(),_=a.getMinutes();m(`${n(r)}:${n(_)}`)});return()=>clearInterval(i)},[]),e.createElement(v,{boxShadow:"$in",px:"$6",py:"$2",display:"flex",justifyContent:"center",alignItems:"center"},e.createElement(C,{className:N},c))};y.__docgenInfo={description:"",methods:[],displayName:"Clock"};const M=l.forwardRef(({children:c,small:m=!1,icon:n,active:i=!1,...a},r)=>e.createElement("button",{className:V({active:i,small:m}),...a,ref:r},e.createElement("div",{className:R},n),c));M.__docgenInfo={description:"",methods:[],displayName:"WindowButton",props:{small:{defaultValue:{value:"false",computed:!1},required:!1},active:{defaultValue:{value:"false",computed:!1},required:!1}}};const T=l.forwardRef(({list:c},m)=>{const[n,i]=l.useState(!1),[a,r]=l.useState(!1),[_,x]=e.useState([]),[g,E]=l.useState();return l.useEffect(()=>{const d=t=>{x(w=>[...w,t])},f=t=>{x(w=>{const h=w.filter(b=>b.id!==t.id),p=h.at(-1);return!g&&p&&o.emit(s.ModalVisibilityChanged,{id:p==null?void 0:p.id}),h})},u=({id:t})=>{E(t)};return o.on(s.AddModal,d),o.on(s.RemoveModal,f),o.on(s.ModalVisibilityChanged,u),()=>{o.off(s.AddModal,d),o.off(s.RemoveModal,f),o.off(s.ModalVisibilityChanged,u)}},[]),e.createElement(v,{position:"fixed",bottom:"0px",left:"0px",right:"0px",display:"flex",justifyContent:"space-between",h:"28px",w:"100%",padding:"$2",zIndex:"$taskbar",backgroundColor:"$material",boxShadow:"$out",ref:m},n&&e.createElement(v,{position:"absolute",bottom:"28px",onClick:()=>{r(!1),i(!1)}},c),e.createElement(M,{small:!0,icon:e.createElement($,{variant:"32x32_4"}),active:a,onClick:()=>{r(!a),i(!n)}},"Start"),e.createElement(v,{w:"100%",paddingLeft:"$0",ml:"$2",display:"flex"},_.map(({icon:d,title:f,hasButton:u,id:t})=>u&&e.createElement(M,{key:t,icon:d,active:t===g,onClick:()=>{t===g?(o.emit(s.MinimizeModal,{id:t}),E("Minimize")):(o.emit(s.RestoreModal,{id:t}),o.emit(s.ModalVisibilityChanged,{id:t}))},small:!1},e.createElement("div",{className:S},f)))),e.createElement(y,null))});T.__docgenInfo={description:"",methods:[],displayName:"TaskBar"};export{T};
