import{s as re,t as te,c as Ve,a as U,j as Oe}from"./index-9af3809b.js";import{a as dt,r as j,g as pt}from"./index-ebeaab24.js";import{p as Ye}from"./index-f50b85d6.js";import{r as qe}from"./index-9c09ad76.js";import{B as Le}from"./Button-c53c5656.js";import{T as le}from"./index-b00b62c0.js";import{M as gt}from"./ModalContext-2b18b259.js";var pe={exports:{}},Fe={};function He(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=He(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function je(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=He(e))&&(r&&(r+=" "),r+=t);return r}const mt=Object.freeze(Object.defineProperty({__proto__:null,clsx:je,default:je},Symbol.toStringTag,{value:"Module"})),vt=dt(mt);var b={},I={};Object.defineProperty(I,"__esModule",{value:!0});I.dontSetMe=St;I.findInArray=yt;I.int=wt;I.isFunction=ht;I.isNum=bt;function yt(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function ht(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function bt(e){return typeof e=="number"&&!isNaN(e)}function wt(e){return parseInt(e,10)}function St(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}var F={};Object.defineProperty(F,"__esModule",{value:!0});F.browserPrefixToKey=ze;F.browserPrefixToStyle=Dt;F.default=void 0;F.getPrefix=Ge;var _e=["Moz","Webkit","O","ms"];function Ge(){var e,t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";var r=(e=window.document)===null||e===void 0||(t=e.documentElement)===null||t===void 0?void 0:t.style;if(!r||n in r)return"";for(var i=0;i<_e.length;i++)if(ze(n,_e[i])in r)return _e[i];return""}function ze(e,t){return t?"".concat(t).concat(Ot(e)):e}function Dt(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e}function Ot(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):e[r]==="-"?n=!0:t+=e[r];return t}var _t=Ge();F.default=_t;function Me(e){"@babel/helpers - typeof";return Me=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Me(e)}Object.defineProperty(b,"__esModule",{value:!0});b.addClassName=et;b.addEvent=Mt;b.addUserSelectStyles=kt;b.createCSSTransform=At;b.createSVGTransform=$t;b.getTouch=jt;b.getTouchIdentifier=It;b.getTranslation=Ce;b.innerHeight=Nt;b.innerWidth=Rt;b.matchesSelector=Ze;b.matchesSelectorAndParentsTo=xt;b.offsetXYFromParent=Wt;b.outerHeight=Ct;b.outerWidth=Et;b.removeClassName=tt;b.removeEvent=Tt;b.removeUserSelectStyles=Xt;var N=I,Ie=Pt(F);function Ke(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(Ke=function(i){return i?n:t})(e)}function Pt(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||Me(e)!=="object"&&typeof e!="function")return{default:e};var n=Ke(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if(f!=="default"&&Object.prototype.hasOwnProperty.call(e,f)){var p=i?Object.getOwnPropertyDescriptor(e,f):null;p&&(p.get||p.set)?Object.defineProperty(r,f,p):r[f]=e[f]}return r.default=e,n&&n.set(e,r),r}function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ke(Object(n),!0).forEach(function(r){Qe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var se="";function Ze(e,t){return se||(se=(0,N.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,N.isFunction)(e[n])})),(0,N.isFunction)(e[se])?e[se](t):!1}function xt(e,t,n){var r=e;do{if(Ze(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function Mt(e,t,n,r){if(e){var i=Je({capture:!0},r);e.addEventListener?e.addEventListener(t,n,i):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}}function Tt(e,t,n,r){if(e){var i=Je({capture:!0},r);e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}}function Ct(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,N.int)(n.borderTopWidth),t+=(0,N.int)(n.borderBottomWidth),t}function Et(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,N.int)(n.borderLeftWidth),t+=(0,N.int)(n.borderRightWidth),t}function Nt(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,N.int)(n.paddingTop),t-=(0,N.int)(n.paddingBottom),t}function Rt(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,N.int)(n.paddingLeft),t-=(0,N.int)(n.paddingRight),t}function Wt(e,t,n){var r=t===t.ownerDocument.body,i=r?{left:0,top:0}:t.getBoundingClientRect(),f=(e.clientX+t.scrollLeft-i.left)/n,p=(e.clientY+t.scrollTop-i.top)/n;return{x:f,y:p}}function At(e,t){var n=Ce(e,t,"px");return Qe({},(0,Ie.browserPrefixToKey)("transform",Ie.default),n)}function $t(e,t){var n=Ce(e,t,"");return n}function Ce(e,t,n){var r=e.x,i=e.y,f="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(t){var p="".concat(typeof t.x=="string"?t.x:t.x+n),c="".concat(typeof t.y=="string"?t.y:t.y+n);f="translate(".concat(p,", ").concat(c,")")+f}return f}function jt(e,t){return e.targetTouches&&(0,N.findInArray)(e.targetTouches,function(n){return t===n.identifier})||e.changedTouches&&(0,N.findInArray)(e.changedTouches,function(n){return t===n.identifier})}function It(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function kt(e){if(e){var t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&et(e.body,"react-draggable-transparent-selection")}}function Xt(e){if(e)try{if(e.body&&tt(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function et(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function tt(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var k={};Object.defineProperty(k,"__esModule",{value:!0});k.canDragX=Vt;k.canDragY=Yt;k.createCoreData=Lt;k.createDraggableData=Ft;k.getBoundPosition=Bt;k.getControlPosition=qt;k.snapToGrid=Ut;var E=I,K=b;function Bt(e,t,n){if(!e.props.bounds)return[t,n];var r=e.props.bounds;r=typeof r=="string"?r:Ht(r);var i=Ee(e);if(typeof r=="string"){var f=i.ownerDocument,p=f.defaultView,c;if(r==="parent"?c=i.parentNode:c=f.querySelector(r),!(c instanceof p.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');var m=c,v=p.getComputedStyle(i),y=p.getComputedStyle(m);r={left:-i.offsetLeft+(0,E.int)(y.paddingLeft)+(0,E.int)(v.marginLeft),top:-i.offsetTop+(0,E.int)(y.paddingTop)+(0,E.int)(v.marginTop),right:(0,K.innerWidth)(m)-(0,K.outerWidth)(i)-i.offsetLeft+(0,E.int)(y.paddingRight)-(0,E.int)(v.marginRight),bottom:(0,K.innerHeight)(m)-(0,K.outerHeight)(i)-i.offsetTop+(0,E.int)(y.paddingBottom)-(0,E.int)(v.marginBottom)}}return(0,E.isNum)(r.right)&&(t=Math.min(t,r.right)),(0,E.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,E.isNum)(r.left)&&(t=Math.max(t,r.left)),(0,E.isNum)(r.top)&&(n=Math.max(n,r.top)),[t,n]}function Ut(e,t,n){var r=Math.round(t/e[0])*e[0],i=Math.round(n/e[1])*e[1];return[r,i]}function Vt(e){return e.props.axis==="both"||e.props.axis==="x"}function Yt(e){return e.props.axis==="both"||e.props.axis==="y"}function qt(e,t,n){var r=typeof t=="number"?(0,K.getTouch)(e,t):null;if(typeof t=="number"&&!r)return null;var i=Ee(n),f=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,K.offsetXYFromParent)(r||e,f,n.props.scale)}function Lt(e,t,n){var r=e.state,i=!(0,E.isNum)(r.lastX),f=Ee(e);return i?{node:f,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:f,deltaX:t-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:n}}function Ft(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function Ht(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function Ee(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var ge={},me={};Object.defineProperty(me,"__esModule",{value:!0});me.default=Gt;function Gt(){}function fe(e){"@babel/helpers - typeof";return fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fe(e)}Object.defineProperty(ge,"__esModule",{value:!0});ge.default=void 0;var Pe=Kt(j),C=Ne(Ye),zt=Ne(qe),_=b,V=k,xe=I,ee=Ne(me);function Ne(e){return e&&e.__esModule?e:{default:e}}function rt(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(rt=function(i){return i?n:t})(e)}function Kt(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||fe(e)!=="object"&&typeof e!="function")return{default:e};var n=rt(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if(f!=="default"&&Object.prototype.hasOwnProperty.call(e,f)){var p=i?Object.getOwnPropertyDescriptor(e,f):null;p&&(p.get||p.set)?Object.defineProperty(r,f,p):r[f]=e[f]}return r.default=e,n&&n.set(e,r),r}function Xe(e,t){return er(e)||Zt(e,t)||Qt(e,t)||Jt()}function Jt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qt(e,t){if(e){if(typeof e=="string")return Be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Be(e,t)}}function Be(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,f=!1,p,c;try{for(n=n.call(e);!(i=(p=n.next()).done)&&(r.push(p.value),!(t&&r.length===t));i=!0);}catch(m){f=!0,c=m}finally{try{!i&&n.return!=null&&n.return()}finally{if(f)throw c}}return r}}function er(e){if(Array.isArray(e))return e}function tr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rr(e,t,n){return t&&Ue(e.prototype,t),n&&Ue(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function nr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Te(e,t)}function Te(e,t){return Te=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Te(e,t)}function ar(e){var t=ir();return function(){var r=ce(e),i;if(t){var f=ce(this).constructor;i=Reflect.construct(r,arguments,f)}else i=r.apply(this,arguments);return or(this,i)}}function or(e,t){if(t&&(fe(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P(e)}function P(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ir(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ce(e){return ce=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ce(e)}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},Y=$.mouse,ve=function(e){nr(n,e);var t=ar(n);function n(){var r;tr(this,n);for(var i=arguments.length,f=new Array(i),p=0;p<i;p++)f[p]=arguments[p];return r=t.call.apply(t,[this].concat(f)),W(P(r),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),W(P(r),"mounted",!1),W(P(r),"handleDragStart",function(c){if(r.props.onMouseDown(c),!r.props.allowAnyClick&&typeof c.button=="number"&&c.button!==0)return!1;var m=r.findDOMNode();if(!m||!m.ownerDocument||!m.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var v=m.ownerDocument;if(!(r.props.disabled||!(c.target instanceof v.defaultView.Node)||r.props.handle&&!(0,_.matchesSelectorAndParentsTo)(c.target,r.props.handle,m)||r.props.cancel&&(0,_.matchesSelectorAndParentsTo)(c.target,r.props.cancel,m))){c.type==="touchstart"&&c.preventDefault();var y=(0,_.getTouchIdentifier)(c);r.setState({touchIdentifier:y});var O=(0,V.getControlPosition)(c,y,P(r));if(O!=null){var S=O.x,A=O.y,R=(0,V.createCoreData)(P(r),S,A);(0,ee.default)("DraggableCore: handleDragStart: %j",R),(0,ee.default)("calling",r.props.onStart);var M=r.props.onStart(c,R);M===!1||r.mounted===!1||(r.props.enableUserSelectHack&&(0,_.addUserSelectStyles)(v),r.setState({dragging:!0,lastX:S,lastY:A}),(0,_.addEvent)(v,Y.move,r.handleDrag),(0,_.addEvent)(v,Y.stop,r.handleDragStop))}}}),W(P(r),"handleDrag",function(c){var m=(0,V.getControlPosition)(c,r.state.touchIdentifier,P(r));if(m!=null){var v=m.x,y=m.y;if(Array.isArray(r.props.grid)){var O=v-r.state.lastX,S=y-r.state.lastY,A=(0,V.snapToGrid)(r.props.grid,O,S),R=Xe(A,2);if(O=R[0],S=R[1],!O&&!S)return;v=r.state.lastX+O,y=r.state.lastY+S}var M=(0,V.createCoreData)(P(r),v,y);(0,ee.default)("DraggableCore: handleDrag: %j",M);var q=r.props.onDrag(c,M);if(q===!1||r.mounted===!1){try{r.handleDragStop(new MouseEvent("mouseup"))}catch{var T=document.createEvent("MouseEvents");T.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.handleDragStop(T)}return}r.setState({lastX:v,lastY:y})}}),W(P(r),"handleDragStop",function(c){if(r.state.dragging){var m=(0,V.getControlPosition)(c,r.state.touchIdentifier,P(r));if(m!=null){var v=m.x,y=m.y;if(Array.isArray(r.props.grid)){var O=v-r.state.lastX||0,S=y-r.state.lastY||0,A=(0,V.snapToGrid)(r.props.grid,O,S),R=Xe(A,2);O=R[0],S=R[1],v=r.state.lastX+O,y=r.state.lastY+S}var M=(0,V.createCoreData)(P(r),v,y),q=r.props.onStop(c,M);if(q===!1||r.mounted===!1)return!1;var T=r.findDOMNode();T&&r.props.enableUserSelectHack&&(0,_.removeUserSelectStyles)(T.ownerDocument),(0,ee.default)("DraggableCore: handleDragStop: %j",M),r.setState({dragging:!1,lastX:NaN,lastY:NaN}),T&&((0,ee.default)("DraggableCore: Removing handlers"),(0,_.removeEvent)(T.ownerDocument,Y.move,r.handleDrag),(0,_.removeEvent)(T.ownerDocument,Y.stop,r.handleDragStop))}}}),W(P(r),"onMouseDown",function(c){return Y=$.mouse,r.handleDragStart(c)}),W(P(r),"onMouseUp",function(c){return Y=$.mouse,r.handleDragStop(c)}),W(P(r),"onTouchStart",function(c){return Y=$.touch,r.handleDragStart(c)}),W(P(r),"onTouchEnd",function(c){return Y=$.touch,r.handleDragStop(c)}),r}return rr(n,[{key:"componentDidMount",value:function(){this.mounted=!0;var i=this.findDOMNode();i&&(0,_.addEvent)(i,$.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.findDOMNode();if(i){var f=i.ownerDocument;(0,_.removeEvent)(f,$.mouse.move,this.handleDrag),(0,_.removeEvent)(f,$.touch.move,this.handleDrag),(0,_.removeEvent)(f,$.mouse.stop,this.handleDragStop),(0,_.removeEvent)(f,$.touch.stop,this.handleDragStop),(0,_.removeEvent)(i,$.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,_.removeUserSelectStyles)(f)}}},{key:"findDOMNode",value:function(){var i,f,p;return(i=this.props)!==null&&i!==void 0&&i.nodeRef?(f=this.props)===null||f===void 0||(p=f.nodeRef)===null||p===void 0?void 0:p.current:zt.default.findDOMNode(this)}},{key:"render",value:function(){return Pe.cloneElement(Pe.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),n}(Pe.Component);ge.default=ve;W(ve,"displayName","DraggableCore");W(ve,"propTypes",{allowAnyClick:C.default.bool,disabled:C.default.bool,enableUserSelectHack:C.default.bool,offsetParent:function(t,n){if(t[n]&&t[n].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:C.default.arrayOf(C.default.number),handle:C.default.string,cancel:C.default.string,nodeRef:C.default.object,onStart:C.default.func,onDrag:C.default.func,onStop:C.default.func,onMouseDown:C.default.func,scale:C.default.number,className:xe.dontSetMe,style:xe.dontSetMe,transform:xe.dontSetMe});W(ve,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){function t(a){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},t(a)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return v.default}}),e.default=void 0;var n=R(j),r=S(Ye),i=S(qe),f=S(vt),p=b,c=k,m=I,v=S(ge),y=S(me),O=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function S(a){return a&&a.__esModule?a:{default:a}}function A(a){if(typeof WeakMap!="function")return null;var o=new WeakMap,u=new WeakMap;return(A=function(s){return s?u:o})(a)}function R(a,o){if(!o&&a&&a.__esModule)return a;if(a===null||t(a)!=="object"&&typeof a!="function")return{default:a};var u=A(o);if(u&&u.has(a))return u.get(a);var l={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in a)if(d!=="default"&&Object.prototype.hasOwnProperty.call(a,d)){var g=s?Object.getOwnPropertyDescriptor(a,d):null;g&&(g.get||g.set)?Object.defineProperty(l,d,g):l[d]=a[d]}return l.default=a,u&&u.set(a,l),l}function M(){return M=Object.assign||function(a){for(var o=1;o<arguments.length;o++){var u=arguments[o];for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(a[l]=u[l])}return a},M.apply(this,arguments)}function q(a,o){if(a==null)return{};var u=T(a,o),l,s;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);for(s=0;s<d.length;s++)l=d[s],!(o.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(a,l)&&(u[l]=a[l])}return u}function T(a,o){if(a==null)return{};var u={},l=Object.keys(a),s,d;for(d=0;d<l.length;d++)s=l[d],!(o.indexOf(s)>=0)&&(u[s]=a[s]);return u}function H(a,o){var u=Object.keys(a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);o&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(a,s).enumerable})),u.push.apply(u,l)}return u}function D(a){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?arguments[o]:{};o%2?H(Object(u),!0).forEach(function(l){X(a,l,u[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(u)):H(Object(u)).forEach(function(l){Object.defineProperty(a,l,Object.getOwnPropertyDescriptor(u,l))})}return a}function ye(a,o){return x(a)||be(a,o)||ne(a,o)||he()}function he(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ne(a,o){if(a){if(typeof a=="string")return J(a,o);var u=Object.prototype.toString.call(a).slice(8,-1);if(u==="Object"&&a.constructor&&(u=a.constructor.name),u==="Map"||u==="Set")return Array.from(a);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return J(a,o)}}function J(a,o){(o==null||o>a.length)&&(o=a.length);for(var u=0,l=new Array(o);u<o;u++)l[u]=a[u];return l}function be(a,o){var u=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(u!=null){var l=[],s=!0,d=!1,g,w;try{for(u=u.call(a);!(s=(g=u.next()).done)&&(l.push(g.value),!(o&&l.length===o));s=!0);}catch(h){d=!0,w=h}finally{try{!s&&u.return!=null&&u.return()}finally{if(d)throw w}}return l}}function x(a){if(Array.isArray(a))return a}function we(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")}function Q(a,o){for(var u=0;u<o.length;u++){var l=o[u];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(a,l.key,l)}}function ot(a,o,u){return o&&Q(a.prototype,o),u&&Q(a,u),Object.defineProperty(a,"prototype",{writable:!1}),a}function it(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(o&&o.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),o&&Se(a,o)}function Se(a,o){return Se=Object.setPrototypeOf||function(l,s){return l.__proto__=s,l},Se(a,o)}function ut(a){var o=st();return function(){var l=ae(a),s;if(o){var d=ae(this).constructor;s=Reflect.construct(l,arguments,d)}else s=l.apply(this,arguments);return lt(this,s)}}function lt(a,o){if(o&&(t(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B(a)}function B(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function st(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ae(a){return ae=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},ae(a)}function X(a,o,u){return o in a?Object.defineProperty(a,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):a[o]=u,a}var oe=function(a){it(u,a);var o=ut(u);function u(l){var s;return we(this,u),s=o.call(this,l),X(B(s),"onDragStart",function(d,g){(0,y.default)("Draggable: onDragStart: %j",g);var w=s.props.onStart(d,(0,c.createDraggableData)(B(s),g));if(w===!1)return!1;s.setState({dragging:!0,dragged:!0})}),X(B(s),"onDrag",function(d,g){if(!s.state.dragging)return!1;(0,y.default)("Draggable: onDrag: %j",g);var w=(0,c.createDraggableData)(B(s),g),h={x:w.x,y:w.y};if(s.props.bounds){var Z=h.x,G=h.y;h.x+=s.state.slackX,h.y+=s.state.slackY;var z=(0,c.getBoundPosition)(B(s),h.x,h.y),L=ye(z,2),De=L[0],ie=L[1];h.x=De,h.y=ie,h.slackX=s.state.slackX+(Z-h.x),h.slackY=s.state.slackY+(G-h.y),w.x=h.x,w.y=h.y,w.deltaX=h.x-s.state.x,w.deltaY=h.y-s.state.y}var ue=s.props.onDrag(d,w);if(ue===!1)return!1;s.setState(h)}),X(B(s),"onDragStop",function(d,g){if(!s.state.dragging)return!1;var w=s.props.onStop(d,(0,c.createDraggableData)(B(s),g));if(w===!1)return!1;(0,y.default)("Draggable: onDragStop: %j",g);var h={dragging:!1,slackX:0,slackY:0},Z=!!s.props.position;if(Z){var G=s.props.position,z=G.x,L=G.y;h.x=z,h.y=L}s.setState(h)}),s.state={dragging:!1,dragged:!1,x:l.position?l.position.x:l.defaultPosition.x,y:l.position?l.position.y:l.defaultPosition.y,prevPropsPosition:D({},l.position),slackX:0,slackY:0,isElementSVG:!1},l.position&&!(l.onDrag||l.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),s}return ot(u,[{key:"componentDidMount",value:function(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var s,d,g;return(s=(d=this.props)===null||d===void 0||(g=d.nodeRef)===null||g===void 0?void 0:g.current)!==null&&s!==void 0?s:i.default.findDOMNode(this)}},{key:"render",value:function(){var s,d=this.props;d.axis,d.bounds;var g=d.children,w=d.defaultPosition,h=d.defaultClassName,Z=d.defaultClassNameDragging,G=d.defaultClassNameDragged,z=d.position,L=d.positionOffset;d.scale;var De=q(d,O),ie={},ue=null,ft=!!z,We=!ft||this.state.dragging,Ae=z||w,$e={x:(0,c.canDragX)(this)&&We?this.state.x:Ae.x,y:(0,c.canDragY)(this)&&We?this.state.y:Ae.y};this.state.isElementSVG?ue=(0,p.createSVGTransform)($e,L):ie=(0,p.createCSSTransform)($e,L);var ct=(0,f.default)(g.props.className||"",h,(s={},X(s,Z,this.state.dragging),X(s,G,this.state.dragged),s));return n.createElement(v.default,M({},De,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),n.cloneElement(n.Children.only(g),{className:ct,style:D(D({},g.props.style),ie),transform:ue}))}}],[{key:"getDerivedStateFromProps",value:function(s,d){var g=s.position,w=d.prevPropsPosition;return g&&(!w||g.x!==w.x||g.y!==w.y)?((0,y.default)("Draggable: getDerivedStateFromProps %j",{position:g,prevPropsPosition:w}),{x:g.x,y:g.y,prevPropsPosition:D({},g)}):null}}]),u}(n.Component);e.default=oe,X(oe,"displayName","Draggable"),X(oe,"propTypes",D(D({},v.default.propTypes),{},{axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:m.dontSetMe,style:m.dontSetMe,transform:m.dontSetMe})),X(oe,"defaultProps",D(D({},v.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))})(Fe);var nt=Fe,at=nt.default,ur=nt.DraggableCore;pe.exports=at;pe.exports.default=at;pe.exports.DraggableCore=ur;var lr=pe.exports;const sr=pt(lr),fr=re.div`
  display: flex;
  flex-direction: column;

  position: fixed;

  padding: 2 2 8;

  top: 50px;

  background-color: material;

  box-shadow: inset 1px 1px 0px 1px ${te("colors.borderLightest")},
    inset 0 0 0 1px ${te("colors.borderDark")},
    1px 1px 0 1px ${te("colors.borderDarkest")};

  ${({width:e,height:t})=>`
    width: ${e?`${e}px`:"auto"};
    height: ${t?`${t}px`:"auto"};
  `}
  ${({active:e})=>e?Ve`
          z-index: modal;
        `:""}
`,cr=re.div`
  flex-grow: 1;
  display: flex;
  flex-direction: column;

  padding: 6;
`,dr=re.div`
  display: flex;
  flex-direction: row;
  justify-content: ${({buttonsAlignment:e="center"})=>e};

  padding: 0 6 6 6;

  & ${Le} {
    margin-right: 6;
    min-width: 70px;

    &:last-child {
      margin-right: 0;
    }
  }
`,pr=re.ul`
  display: flex;
  flex-direction: row;

  list-style: none;
  margin: 0;
  padding-left: 0;
  padding-bottom: 3;

  border-bottom-style: solid;
  border-width: 1;
  border-bottom-color: borderDark;

  box-shadow: 0 1px 0 0 ${te("colors.borderLighter")};
`,de=re.li`
  position: relative;
  padding-left: 6;
  padding-right: 6;

  user-select: none;

  ul {
    position: absolute;
    left: 0;
    color: ${te("colors.materialText")};
  }

  ${({active:e})=>e&&Ve`
      background-color: primary;
      color: materialTextInvert;
    `};
`;de.displayName="MenuItem";const gr=({hasWindowButton:e=!0,buttons:t,buttonsAlignment:n,children:r,closeModal:i,defaultPosition:f,positionOffset:p,height:c,icon:m,menu:v,title:y,width:O,...S},A)=>{const{addWindows:R,removeWindow:M,updateWindow:q,setActiveWindow:T,activeWindow:H}=j.useContext(gt),[D,ye]=j.useState(null),[he,ne]=j.useState(""),[J,be]=j.useState(!1);return j.useEffect(()=>{if(D)q(D,{icon:m,title:y,hasButton:e});else{const x=R({icon:m,title:y,hasButton:e});x&&(ye(x),T(x))}},[D,m,y,e]),j.useEffect(()=>()=>{D&&M(D)},[D]),j.useEffect(()=>be(D===H),[D,H]),U(sr,{handle:".draggable",defaultPosition:f,positionOffset:p,onMouseDown:D?()=>T(D):void 0,children:Oe(fr,{width:O,height:c,...S,active:J,ref:A,children:[U(le,{active:J,icon:m,title:y,className:"draggable",children:Oe(le.OptionsBox,{children:[U(le.Option,{children:"?"}),U(le.Option,{onClick:i,children:"X"})]})}),v&&v.length>0&&U(pr,{children:v.map(({name:x,list:we})=>{const Q=he===x;return Oe(de,{onMouseDown:()=>ne(x),active:Q,children:[x,Q&&we]},x)})}),U(cr,{onClick:()=>ne(""),children:r}),t&&t.length>0&&U(dr,{buttonsAlignment:n,children:t.map(x=>U(Le,{onClick:x.onClick,value:x.value,children:x.value},x.value))})]})})},Re=j.forwardRef(gr);Re.displayName="Modal";Re.defaultProps={icon:void 0,title:"Modal",buttonsAlignment:"flex-end",children:null,defaultPosition:{x:0,y:0},buttons:[],menu:[],width:void 0,height:void 0,closeModal:()=>{}};const Dr=Re;try{de.displayName="MenuItem",de.__docgenInfo={description:"",displayName:"MenuItem",props:{icon:{defaultValue:{value:"undefined"},description:"",name:"icon",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},closeModal:{defaultValue:{value:"() => {}"},description:"",name:"closeModal",required:!1,type:{name:"(event: MouseEvent<Element, MouseEvent>) => void"}},title:{defaultValue:{value:"Modal"},description:"",name:"title",required:!1,type:{name:"string"}},buttons:{defaultValue:{value:"[]"},description:"",name:"buttons",required:!1,type:{name:"ModalButtons[]"}},menu:{defaultValue:{value:"[]"},description:"",name:"menu",required:!1,type:{name:"ModalMenu[]"}},defaultPosition:{defaultValue:{value:"{ x: 0, y: 0 }"},description:"",name:"defaultPosition",required:!1,type:{name:"ControlPosition"}},positionOffset:{defaultValue:null,description:"",name:"positionOffset",required:!1,type:{name:"PositionOffsetControlPosition"}},hasWindowButton:{defaultValue:null,description:"",name:"hasWindowButton",required:!1,type:{name:"boolean"}},height:{defaultValue:{value:"undefined"},description:"",name:"height",required:!1,type:{name:"Height<0 | (string & {})>"}},width:{defaultValue:{value:"undefined"},description:"",name:"width",required:!1,type:{name:"Width<0 | (string & {})>"}},buttonsAlignment:{defaultValue:{value:"flex-end"},description:"",name:"buttonsAlignment",required:!1,type:{name:"JustifyContent"}}}}}catch{}export{Dr as M};
//# sourceMappingURL=Modal-f54910e3.js.map
