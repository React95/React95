import{r as p,R as S}from"./index-9fa1aa67.js";import{B as be}from"./Button-e77e23f5.js";import{f as de,F as oe}from"./Frame-d1abb87e.js";import{T as se}from"./TitleBar-cd22ff01.js";/* empty css                             */import{c as Me}from"./createRuntimeFn-62c9670f.esm-edc6fb2c.js";import{c as ve}from"./index-923230fa.js";import{a as Ee}from"./index-4fd03fd3.js";let Ce=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,r)=>(r&=63,r<36?t+=r.toString(36):r<62?t+=(r-26).toString(36).toUpperCase():r>62?t+="-":t+="_",t),"");var re={dragStart:!0},Be=(e,t={})=>{let r,o,{bounds:l,axis:m="both",gpuAcceleration:f=!0,legacyTranslate:N=!0,transform:B,applyUserSelectHack:D=!0,disabled:V=!1,ignoreMultitouch:A=!1,recomputeBounds:d=re,grid:O,position:g,cancel:E,handle:T,defaultClass:C="neodrag",defaultClassDragging:i="neodrag-dragging",defaultClassDragged:h="neodrag-dragged",defaultPosition:H={x:0,y:0},onDragStart:u,onDrag:G,onDragEnd:j}=t,W=!1,k=0,q=0,L=0,I=0,J=0,K=0,{x:F,y:P}=g?{x:(g==null?void 0:g.x)??0,y:(g==null?void 0:g.y)??0}:H;ee(F,P);let R,_,$,Q,ue,ce="",we=!!g;d={...re,...d};let U=new Set;const Z=document.body.style,z=e.classList;function ee(n=k,s=q){if(!B){if(N){let M=`${+n}px, ${+s}px`;return X(e,"transform",f?`translate3d(${M}, 0)`:`translate(${M})`)}return X(e,"translate",`${+n}px ${+s}px ${f?"1px":""}`)}const c=B({offsetX:n,offsetY:s,rootNode:e});ae(c)&&X(e,"transform",c)}const te=(n,s)=>{const c={offsetX:k,offsetY:q,rootNode:e,currentNode:ue};e.dispatchEvent(new CustomEvent(n,{detail:c})),s==null||s(c)},ne=addEventListener;ne("pointerdown",fe,!1),ne("pointerup",pe,!1),ne("pointermove",ge,!1),X(e,"touch-action","none");const me=()=>{let n=e.offsetWidth/_.width;return isNaN(n)&&(n=1),n};function fe(n){if(V||n.button===2)return;if(U.add(n.pointerId),A&&U.size>1)return n.preventDefault();if(d.dragStart&&(R=ie(l,e)),ae(T)&&ae(E)&&T===E)throw new Error("`handle` selector can't be same as `cancel` selector");if(z.add(C),$=function(a,b){if(!a)return[b];if(le(a))return[a];if(Array.isArray(a))return a;const x=b.querySelectorAll(a);if(x===null)throw new Error("Selector passed for `handle` option should be child of the element on which the action is applied");return Array.from(x.values())}(T,e),Q=function(a,b){if(!a)return[];if(le(a))return[a];if(Array.isArray(a))return a;const x=b.querySelectorAll(a);if(x===null)throw new Error("Selector passed for `cancel` option should be child of the element on which the action is applied");return Array.from(x.values())}(E,e),r=/(both|x)/.test(m),o=/(both|y)/.test(m),ye(Q,$))throw new Error("Element being dragged can't be a child of the element on which `cancel` is applied");const s=n.composedPath()[0];if(!$.some(a=>{var b;return a.contains(s)||((b=a.shadowRoot)==null?void 0:b.contains(s))})||ye(Q,[s]))return;ue=$.length===1?e:$.find(a=>a.contains(s)),W=!0,_=e.getBoundingClientRect(),D&&(ce=Z.userSelect,Z.userSelect="none"),te("neodrag:start",u);const{clientX:c,clientY:M}=n,w=me();r&&(L=c-F/w),o&&(I=M-P/w),R&&(J=c-_.left,K=M-_.top)}function pe(n){U.delete(n.pointerId),W&&(d.dragEnd&&(R=ie(l,e)),z.remove(i),z.add(h),D&&(Z.userSelect=ce),te("neodrag:end",j),r&&(L=k),o&&(I=q),W=!1)}function ge(n){if(!W||A&&U.size>1)return;d.drag&&(R=ie(l,e)),z.add(i),n.preventDefault(),_=e.getBoundingClientRect();let s=n.clientX,c=n.clientY;const M=me();if(R){const w={left:R.left+J,top:R.top+K,right:R.right+J-_.width,bottom:R.bottom+K-_.height};s=he(s,w.left,w.right),c=he(c,w.top,w.bottom)}if(Array.isArray(O)){let[w,a]=O;if(isNaN(+w)||w<0)throw new Error("1st argument of `grid` must be a valid positive number");if(isNaN(+a)||a<0)throw new Error("2nd argument of `grid` must be a valid positive number");let b=s-L,x=c-I;[b,x]=Te([w/M,a/M],b,x),s=L+b,c=I+x}r&&(k=Math.round((s-L)*M)),o&&(q=Math.round((c-I)*M)),F=k,P=q,te("neodrag",G),ee()}return{destroy:()=>{const n=removeEventListener;n("pointerdown",fe,!1),n("pointerup",pe,!1),n("pointermove",ge,!1)},update:n=>{var c,M;m=n.axis||"both",V=n.disabled??!1,A=n.ignoreMultitouch??!1,T=n.handle,l=n.bounds,d=n.recomputeBounds??re,E=n.cancel,D=n.applyUserSelectHack??!0,O=n.grid,f=n.gpuAcceleration??!0,N=n.legacyTranslate??!0,B=n.transform;const s=z.contains(h);z.remove(C,h),C=n.defaultClass??"neodrag",i=n.defaultClassDragging??"neodrag-dragging",h=n.defaultClassDragged??"neodrag-dragged",z.add(C),s&&z.add(h),we&&(F=k=((c=n.position)==null?void 0:c.x)??k,P=q=((M=n.position)==null?void 0:M.y)??q,ee())}}},he=(e,t,r)=>Math.min(Math.max(e,t),r),ae=e=>typeof e=="string",Te=([e,t],r,o)=>{const l=(m,f)=>f===0?0:Math.ceil(m/f)*f;return[l(r,e),l(o,t)]},ye=(e,t)=>e.some(r=>t.some(o=>r.contains(o)));function ie(e,t){if(e===void 0)return;if(le(e))return e.getBoundingClientRect();if(typeof e=="object"){const{top:o=0,left:l=0,right:m=0,bottom:f=0}=e;return{top:o,right:window.innerWidth-m,bottom:window.innerHeight-f,left:l}}if(e==="parent")return t.parentNode.getBoundingClientRect();const r=document.querySelector(e);if(r===null)throw new Error("The selector provided for bound doesn't exists in the document.");return r.getBoundingClientRect()}var X=(e,t,r)=>e.style.setProperty(t,r),le=e=>e instanceof HTMLElement;function Y(e){return e==null||typeof e=="string"||e instanceof HTMLElement?e:"current"in e?e.current:Array.isArray(e)?e.map(t=>t instanceof HTMLElement?t:t.current):void 0}function Re(e,t={}){const r=p.useRef(),[o,l]=p.useState(!1),[m,f]=p.useState();let{onDragStart:N,onDrag:B,onDragEnd:D,handle:V,cancel:A}=t,d=Y(V),O=Y(A);function g(i,h){f(i),h==null||h(i)}function E(i){l(!0),g(i,N)}function T(i){g(i,B)}function C(i){l(!1),g(i,D)}return p.useEffect(()=>{if(typeof window>"u")return;const i=e.current;if(!i)return;({onDragStart:N,onDrag:B,onDragEnd:D}=t);const{update:h,destroy:H}=Be(i,{...t,handle:d,cancel:O,onDragStart:E,onDrag:T,onDragEnd:C});return r.current=h,H},[]),p.useEffect(()=>{var i;(i=r.current)==null||i.call(r,{...t,handle:Y(V),cancel:Y(A),onDragStart:E,onDrag:T,onDragEnd:C})},[t]),{isDragging:o,dragState:m}}var xe=Me({defaultClassName:"r95_1txblt60",variantClassNames:{active:{true:"r95_1txblt61"},minimized:{true:"r95_1txblt62",false:"r95_1txblt63"}},defaultVariants:{},compoundVariants:[]}),Se="r95_1txblt64",De="r95_1txblt65",Ae="r95_1txblt66",ze=Me({defaultClassName:"r95_1txblt67",variantClassNames:{active:{true:"r95_1txblt68"}},defaultVariants:{},compoundVariants:[]});class Ne{constructor(){this.listeners={}}on(t,r){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(r)}off(t,r){this.listeners[t]&&(this.listeners[t]=this.listeners[t].filter(o=>o!==r))}emit(t,r){this.listeners[t]&&this.listeners[t].forEach(o=>o(r))}}var y=(e=>(e.AddModal="add-modal",e.RemoveModal="remove-modal",e.ModalVisibilityChanged="modal-visibility-changed",e.MinimizeModal="minimize-modal",e.RestoreModal="restore-modal",e))(y||{});const v=new Ne,Ve=de((e,t)=>S.createElement(oe,{...e,ref:t,className:ve(De,e.className)})),Oe=de((e,t)=>{const[r,o]=p.useState("");p.useEffect(()=>{const m=({id:f})=>{o(f)};return v.on(y.ModalVisibilityChanged,m),()=>{v.off(y.ModalVisibilityChanged,m)}},[]);const l=()=>{v.emit(y.MinimizeModal,{id:r}),v.emit(y.ModalVisibilityChanged,{id:"no id"})};return S.createElement(se.Minimize,{...e,ref:t,onClick:l})}),ke=({hasWindowButton:e=!0,buttons:t=[],buttonsAlignment:r="flex-end",children:o,icon:l,menu:m=[],title:f,dragOptions:N,titleBarOptions:B,className:D,...V},A)=>{const[d]=p.useState(Ce()),[O,g]=p.useState(""),[E,T]=p.useState(!1),[C,i]=p.useState(!1),h=p.useRef(null);Re(h,{...N,handle:".draggable"});const H=p.useRef(null);return Ee(H,()=>{g("")}),p.useEffect(()=>(v.emit(y.AddModal,{icon:l,title:f,id:d,hasButton:e}),v.on(y.ModalVisibilityChanged,({id:u})=>{T(u===d)}),v.emit(y.ModalVisibilityChanged,{id:d}),()=>{v.emit(y.RemoveModal,{id:d})}),[]),p.useEffect(()=>(v.on(y.MinimizeModal,({id:u})=>{u===d&&i(!0)}),v.on(y.RestoreModal,({id:u})=>{u===d&&i(!1)}),()=>{v.off(y.MinimizeModal,()=>{}),v.off(y.RestoreModal,()=>{})}),[d]),p.useImperativeHandle(A,()=>h.current),S.createElement(oe,{...V,className:ve(xe({active:E,minimized:C}),D),role:"dialog","aria-hidden":C,ref:h,onMouseDown:()=>{v.emit(y.ModalVisibilityChanged,{id:d})}},S.createElement(se,{active:E,icon:l,title:f,className:"draggable",mb:"$2"},B&&S.createElement(se.OptionsBox,null,B)),m&&m.length>0&&S.createElement("ul",{className:Ae,ref:H},m.map(({name:u,list:G})=>{const j=O===u;return S.createElement("li",{key:u,onMouseDown:()=>g(u),className:ze({active:j})},u,j&&G)})),o,t&&t.length>0&&S.createElement(oe,{className:Se,justifyContent:r},t.map(u=>S.createElement(be,{key:u.value,onClick:u.onClick,value:u.value},u.value))))},qe=Object.assign(de(ke),{Content:Ve,Minimize:Oe});qe.__docgenInfo={description:"",methods:[],displayName:"Modal",props:{buttons:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  value: string;
  onClick(event: MouseEvent): void;
}`,signature:{properties:[{key:"value",value:{name:"string",required:!0}},{key:"onClick",value:{name:"void",required:!0}}]}}],raw:"Array<ModalButtons>"},description:"",defaultValue:{value:"[]",computed:!1}},menu:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  name: string;
  list: ReactElement<typeof List>;
}`,signature:{properties:[{key:"name",value:{name:"string",required:!0}},{key:"list",value:{name:"ReactElement",elements:[{name:"List"}],raw:"ReactElement<typeof List>",required:!0}}]}}],raw:"Array<ModalMenu>"},description:"",defaultValue:{value:"[]",computed:!1}},dragOptions:{required:!1,tsType:{name:"Omit",elements:[{name:"DragOptions"},{name:"literal",value:"'handle'"}],raw:"Omit<DragOptions, 'handle'>"},description:""},hasWindowButton:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},buttonsAlignment:{required:!1,tsType:{name:"intersection['justifyContent']",raw:"FrameProps<'div'>['justifyContent']"},description:"",defaultValue:{value:"'flex-end'",computed:!1}},titleBarOptions:{required:!1,tsType:{name:"union",raw:`| ReactElement<TitleBarOptions>
| ReactElement<TitleBarOptions>[]`,elements:[{name:"ReactElement",elements:[{name:"union",raw:`| typeof TitleBar.Close
| typeof TitleBar.Help
| typeof TitleBar.Maximize
| typeof TitleBar.Minimize
| typeof TitleBar.Restore`,elements:[{name:"TitleBar.Close"},{name:"TitleBar.Help"},{name:"TitleBar.Maximize"},{name:"TitleBar.Minimize"},{name:"TitleBar.Restore"}]}],raw:"ReactElement<TitleBarOptions>"},{name:"Array",elements:[{name:"ReactElement",elements:[{name:"union",raw:`| typeof TitleBar.Close
| typeof TitleBar.Help
| typeof TitleBar.Maximize
| typeof TitleBar.Minimize
| typeof TitleBar.Restore`,elements:[{name:"TitleBar.Close"},{name:"TitleBar.Help"},{name:"TitleBar.Maximize"},{name:"TitleBar.Minimize"},{name:"TitleBar.Restore"}]}],raw:"ReactElement<TitleBarOptions>"}],raw:"ReactElement<TitleBarOptions>[]"}]},description:""}}};export{qe as M,y as a,v as m};
