import{R as f}from"./index-9fa1aa67.js";import{t as C}from"./all-e1407812.js";import{_ as F}from"./iframe-492b8464.js";import"../sb-preview/runtime.js";const S=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));console.log({GlobalStyle:S});global.themes=Object.keys(C);const T=(t,{globals:e})=>{const{selectedTheme:i}=e;return f.useEffect(()=>{{const n=`r95_theme_${i}`;return document.body.classList.add(n),()=>{document.body.classList.remove(n)}}},[i]),f.createElement("div",{style:{padding:10}},f.createElement(t,null))},W=T;T.__docgenInfo={description:"",methods:[],displayName:"Frame"};var g=function(t){this._queue=[],this._onEmptyCallback=t};g.prototype.queue=function(t){this._queue.push(t),this._queue.length!==1||this._active||this._progressQueue()},g.prototype._progressQueue=function(){if(this._queue.length){var t=this._queue.shift();this._active=!0;var e=this.next.bind(this);t&&t(e)}else this._onEmptyCallback()},g.prototype.clear=function(){this._queue=[]},g.prototype.next=function(){this._active=!1,this._progressQueue()};var p=function(t,e,i){this._el=t,this._data=e.config,this._path=e.image,this._currentFrameIndex=0,this._currentFrame=void 0,this._exiting=!1,this._currentAnimation=void 0,this._endCallback=void 0,this._started=!1,this._sounds={},this.currentAnimationName=void 0,this.preloadSounds(i),this._overlays=[this._el];var n=this._el;this._setupElement(this._el);for(var o=1;o<this._data.overlayCount;o++){var a=document.createElement("div"),r=this._setupElement(a);n.append(r),this._overlays.push(r),n=r}};p.prototype._setupElement=function(t){var e=this._data.framesize;return t.style.display="none",t.style.width=e[0]+"px",t.style.height=e[1]+"px",t.style.background="url('"+this._path+"') no-repeat",t},p.prototype.animations=function(){var t=[],e=this._data.animations;for(var i in e)t.push(i);return t},p.prototype.preloadSounds=function(t){},p.prototype.hasAnimation=function(t){return!!this._data.animations[t]},p.prototype.exitAnimation=function(){this._exiting=!0},p.prototype.showAnimation=function(t,e){return this._exiting=!1,!!this.hasAnimation(t)&&(this._currentAnimation=this._data.animations[t],this.currentAnimationName=t,this._started||(this._step(),this._started=!0),this._currentFrameIndex=0,this._currentFrame=void 0,this._endCallback=e,!0)},p.prototype._draw=function(){var t=[];this._currentFrame&&(t=this._currentFrame.images||[]);for(var e=0;e<this._overlays.length;e++)if(e<t.length){var i=t[e],n=-i[0]+"px "+-i[1]+"px";this._overlays[e].style.backgroundPosition=n,this._overlays[e].style.display="block"}else this._overlays[e].style.display="none"},p.prototype._getNextAnimationFrame=function(){if(!this._currentAnimation||!this._currentFrame)return 0;var t=this._currentFrame,e=this._currentFrame.branching;if(this._exiting&&t.exitBranch!==void 0)return t.exitBranch;if(e)for(var i=100*Math.random(),n=0;n<e.branches.length;n++){var o=e.branches[n];if(i<=o.weight)return o.frameIndex;i-=o.weight}return this._currentFrameIndex+1},p.prototype._playSound=function(){var t,e=(t=this._currentFrame)===null||t===void 0?void 0:t.sound;if(e){var i=this._sounds[e];i&&i.play()}},p.prototype._atLastFrame=function(){return!!this._currentAnimation&&this._currentFrameIndex>=this._currentAnimation.frames.length-1},p.prototype._step=function(){if(this._currentAnimation){var t=Math.min(this._getNextAnimationFrame(),this._currentAnimation.frames.length-1),e=!this._currentFrame||this._currentFrameIndex!==t;this._currentFrameIndex=t,this._atLastFrame()&&this._currentAnimation.useExitBranching||(this._currentFrame=this._currentAnimation.frames[this._currentFrameIndex]),this._draw(),this._playSound(),this._loop=window.setTimeout(this._step.bind(this),this._currentFrame.duration),this._endCallback&&e&&this._atLastFrame()&&(this._currentAnimation.useExitBranching&&!this._exiting?this._endCallback(this.currentAnimationName,p.States.WAITING):this._endCallback(this.currentAnimationName,p.States.EXITED))}},p.prototype.pause=function(){window.clearTimeout(this._loop)},p.prototype.resume=function(){this._step()},p.States={WAITING:1,EXITED:0};var x=function(){var t=window.pageXOffset!==void 0,e=(document.compatMode||"")==="CSS1Compat";return{scrollLeft:t?window.pageXOffset:e?document.documentElement.scrollLeft:document.body.scrollLeft,scrollTop:t?window.pageYOffset:e?document.documentElement.scrollTop:document.body.scrollTop}};function v(t){if(!t.getClientRects().length)return{top:0,left:0};var e=t.getBoundingClientRect(),i=t.ownerDocument.defaultView||{pageXOffset:0,pageYOffset:0};return{top:e.top+i.pageYOffset,left:e.left+i.pageXOffset}}function b(t,e){if(e==="inner")return t.clientWidth;if(e==="outer")return t.offsetWidth;var i=window.getComputedStyle(t,null);return e==="width"?t.clientWidth-parseInt(i.getPropertyValue("padding-left"))-parseInt(i.getPropertyValue("padding-right")):e==="full"?t.offsetWidth+parseInt(i.getPropertyValue("margin-left"))+parseInt(i.getPropertyValue("margin-right")):null}function A(t,e){if(e==="inner")return t.clientHeight;if(e==="outer")return t.offsetHeight;var i=window.getComputedStyle(t,null);return e==="height"?t.clientHeight-parseInt(i.getPropertyValue("padding-top"))-parseInt(i.getPropertyValue("padding-bottom")):e==="full"?t.offsetHeight+parseInt(i.getPropertyValue("margin-top"))+parseInt(i.getPropertyValue("margin-bottom")):null}var M=function(){var t=this;this.promise=new Promise(function(e,i){t.resolve=e,t.reject=i})},d=function(t){this._hiding=null,this._loop=null,this._active=!0,this._hold=!1,this._addWord=null,this._targetEl=t,this._hidden=!0,this._setup()};d.prototype._setup=function(){var t=document.createElement("div");t.className="clippy-balloon",t.setAttribute("hidden","true");var e=document.createElement("div");e.className="clippy-tip";var i=document.createElement("div");i.className="clippy-content",t.appendChild(e),t.appendChild(i),this._balloon=t,this._content=i,this._targetEl.insertAdjacentElement("afterend",t)},d.prototype.reposition=function(){for(var t=["top-left","top-right","bottom-left","bottom-right"],e=0;e<t.length;e++){var i=t[e];if(this._position(i),!this._isOut())break}},d.prototype._position=function(t){if(this._balloon){var e=v(this._targetEl),i=A(this._targetEl,"height"),n=b(this._targetEl,"width"),o=x(),a=o.scrollLeft,r=o.scrollTop;e.top-=a,e.left-=r;var u=A(this._balloon,"outer"),l=b(this._balloon,"outer");this._balloon.classList.remove("clippy-top-left"),this._balloon.classList.remove("clippy-top-right"),this._balloon.classList.remove("clippy-bottom-right"),this._balloon.classList.remove("clippy-bottom-left");var h=0,c=0;switch(t){case"top-left":h=e.left+n-l,c=e.top-u-15;break;case"top-right":h=e.left,c=e.top-u-15;break;case"bottom-right":h=e.left,c=e.top+i+15;break;case"bottom-left":h=e.left+n-l,c=e.top+i+15}this._balloon.style.top=c+"px",this._balloon.style.left=h+"px",this._balloon.classList.add("clippy-"+t)}},d.prototype._isOut=function(){if(this._balloon){var t=v(this._balloon),e=A(this._balloon,"outer"),i=b(this._balloon,"outer"),n=document.querySelector("html").clientWidth,o=document.querySelector("html").clientHeight,a=x(),r=a.scrollLeft,u=a.scrollTop,l=t.top-r,h=t.left-u;return l-5<0||h-5<0||l+e+5>o||h+i+5>n}},d.prototype.speak=function(t,e,i){this._hidden=!1,this.show();var n=this._content;n&&(n.style.height="auto",n.style.width="auto",n.innerHTML=e,n.style.height=n.style.height||"",n.style.width=n.style.width||"",n.innerHTML="",this.reposition(),this._complete=t,this._sayWords(e,i,t))},d.prototype.show=function(){this._balloon&&(this._hidden||this._balloon.removeAttribute("hidden"))},d.prototype.hide=function(t){var e;t?(e=this._balloon)===null||e===void 0||e.setAttribute("hidden","true"):this._hiding=window.setTimeout(this._finishHideBalloon.bind(this),2e3)},d.prototype._finishHideBalloon=function(){var t;this._active||((t=this._balloon)===null||t===void 0||t.setAttribute("hidden","true"),this._hidden=!0,this._hiding=null)},d.prototype._sayWords=function(t,e,i){var n=this;this._active=!0,this._hold=e;var o=t.split(/[^\S-]/),a=this._content,r=1;this._addWord=function(){var u;n._active&&(r>o.length?(n._addWord=null,n._active=!1,n._hold||(i(),n.hide(!1))):(a&&(a.innerHTML=o.slice(0,r).join(" ")),r++,n._loop=window.setTimeout((u=n._addWord)===null||u===void 0?void 0:u.bind(n),200)))},this._addWord()},d.prototype.close=function(){this._active?this._hold=!1:this._hold&&this._complete&&this._complete()},d.prototype.pause=function(){this._loop&&window.clearTimeout(this._loop),this._hiding&&(window.clearTimeout(this._hiding),this._hiding=null)},d.prototype.resume=function(){this._addWord?this._addWord():this._hold||this._hidden||(this._hiding=window.setTimeout(this._finishHideBalloon.bind(this),2e3))};var s=function(t){this._hidden=!1,this._offset={top:0,left:0};var e=t.agent,i=t.selector;this._queue=new g(this._onQueueEmpty.bind(this));var n=document.createElement("div");n.className="clippy",n.setAttribute("hidden","true"),this._el=n,((i?document.getElementsByClassName(i)[0]:void 0)||document.body).appendChild(this._el),this._animator=new p(this._el,e,[]),this._balloon=new d(this._el),this._setupEvents()};function _(t){return new Promise(function(e,i){F(()=>import("./agents/"+t+".js"),[],import.meta.url).then(function(n){e(n.default)}).catch(function(n){i(n)})})}s.prototype.gestureAt=function(t,e){var i=this._getDirection(t,e),n="Gesture"+i,o="Look"+i,a=this.hasAnimation(n)?n:o;return this.play(a)},s.prototype.hide=function(t,e){var i=this;return this._hidden=!0,this._el,this.stop(),t?(this._el.setAttribute("hidden","true"),this.stop(),this.pause(),void(e&&e())):this._playInternal("Hide",function(){i._el.setAttribute("hidden","true"),i.pause(),e&&e()})},s.prototype.moveTo=function(t,e,i){var n=this,o="Move"+this._getDirection(t,e);i===void 0&&(i=1e3),this._addToQueue(function(a){if(i===0)return n._el.style.top=e+"px",n._el.style.left=t+"px",n.reposition(),void a();if(!n.hasAnimation(o)){var r=function(){n._el.removeEventListener("animationend",r),a()};return n._el.addEventListener("animationend",r),void n._el.animate({top:e,left:t},{duration:i,iterations:1})}n._playInternal(o,function(u,l){if(l===p.States.EXITED&&a(),l===p.States.WAITING){var h=function(){n._el.removeEventListener("animationend",h),n._animator.exitAnimation()};n._el.addEventListener("animationend",h),n._el.animate({top:e,left:t},{duration:i,iterations:1})}})},this)},s.prototype._playInternal=function(t,e){var i=this;this._isIdleAnimation()&&this._idleDfd&&this._idleDfd.promise.finally(function(){i._playInternal(t,e)}),this._animator.showAnimation(t,e)},s.prototype.play=function(t,e,i){var n=this;return!!this.hasAnimation(t)&&(e===void 0&&(e=5e3),this._addToQueue(function(o){var a=!1;e&&window.setTimeout(function(){a||n._animator.exitAnimation()},e),n._playInternal(t,function(r,u){u===p.States.EXITED&&(a=!0,i&&i(),o())})},this),!0)},s.prototype.show=function(t){if(this._hidden=!1,t)return this._el.removeAttribute("hidden"),this.resume(),void this._onQueueEmpty();var e=this._el.style.top,i=this._el.style.left;if(e==="auto"||i!=="auto"){var n=.8*document.querySelector("html").clientWidth,o=.8*(document.querySelector("html").clientHeight+x().scrollLeft);this._el.style.top=o+"px",this._el.style.left=n+"px"}return this.resume(),this.play("Show")},s.prototype.speak=function(t,e){var i=this;this._addToQueue(function(n){i._balloon.speak(n,t,e)},this)},s.prototype.closeBalloon=function(){this._balloon.hide()},s.prototype.delay=function(t){var e=this;t=t||250,this._addToQueue(function(i){e._onQueueEmpty(),window.setTimeout(i,t)})},s.prototype.stopCurrent=function(){this._animator.exitAnimation(),this._balloon.close()},s.prototype.stop=function(){this._queue.clear(),this._animator.exitAnimation(),this._balloon.hide()},s.prototype.hasAnimation=function(t){return this._animator.hasAnimation(t)},s.prototype.animations=function(){return this._animator.animations()},s.prototype.animate=function(){var t=this.animations(),e=t[Math.floor(Math.random()*t.length)];return e.indexOf("Idle")===0?this.animate():this.play(e)},s.prototype._getDirection=function(t,e){var i=v(this._el),n=A(this._el,"height"),o=b(this._el,"width"),a=i.left+o/2,r=i.top+n/2-e,u=a-t,l=Math.round(180*Math.atan2(r,u)/Math.PI);return-45<=l&&l<45?"Right":45<=l&&l<135?"Up":135<=l&&l<=180||-180<=l&&l<-135?"Left":-135<=l&&l<-45?"Down":"Top"},s.prototype._onQueueEmpty=function(){if(!this._hidden&&!this._isIdleAnimation()){var t=this._getIdleAnimation();this._idleDfd=new M,this._animator.showAnimation(t,this._onIdleComplete.bind(this))}},s.prototype._onIdleComplete=function(t,e){var i;e===p.States.EXITED&&((i=this._idleDfd)===null||i===void 0||i.resolve(void 0))},s.prototype._isIdleAnimation=function(){var t=this._animator.currentAnimationName;return t&&t.indexOf("Idle")===0},s.prototype._getIdleAnimation=function(){for(var t=this.animations(),e=[],i=0;i<t.length;i++){var n=t[i];n.indexOf("Idle")===0&&e.push(n)}return e[Math.floor(Math.random()*e.length)]},s.prototype._setupEvents=function(){window.addEventListener("resize",this.reposition.bind(this)),this._el.addEventListener("mousedown",this._onMouseDown.bind(this)),this._el.addEventListener("dblclick",this._onDoubleClick.bind(this))},s.prototype._onDoubleClick=function(){this.play("ClickedOn")||this.animate()},s.prototype.reposition=function(){if(this._el.getAttribute("hidden")==="true"){var t=v(this._el),e=A(this._el,"outer"),i=b(this._el,"outer"),n=document.querySelector("html").clientWidth,o=document.querySelector("html").clientHeight,a=x(),r=a.scrollLeft,u=a.scrollTop,l=t.top-r,h=t.left-u;l-5<0?l=5:l+e+5>o&&(l=o-e-5),h-5<0?h=5:h+i+5>n&&(h=n-i-5),this._el.style.left=h+"px",this._el.style.top=l+"px",this._balloon.reposition()}},s.prototype._onMouseDown=function(t){t.preventDefault(),this._startDrag(t)},s.prototype._startDrag=function(t){this.pause(),this._balloon.hide(!0),this._offset=this._calculateClickOffset(t),this._moveHandle=this._dragMove.bind(this),this._upHandle=this._finishDrag.bind(this),window.addEventListener("mousemove",this._moveHandle),window.addEventListener("mouseup",this._upHandle),this._dragUpdateLoop=window.setTimeout(this._updateLocation.bind(this),10)},s.prototype._calculateClickOffset=function(t){var e=t.pageX,i=t.pageY,n=v(this._el);return{top:i-n.top,left:e-n.left}},s.prototype._updateLocation=function(){this._el.style.top=(this._targetY||0)+"px",this._el.style.left=(this._targetX||0)+"px",this._dragUpdateLoop=window.setTimeout(this._updateLocation.bind(this),10)},s.prototype._dragMove=function(t){t.preventDefault();var e=t.clientX-this._offset.left,i=t.clientY-this._offset.top;this._targetX=e,this._targetY=i},s.prototype._finishDrag=function(){window.clearTimeout(this._dragUpdateLoop),this._moveHandle&&window.removeEventListener("mousemove",this._moveHandle),this._upHandle&&window.removeEventListener("mouseup",this._upHandle),this._balloon.show(),this.reposition(),this.resume()},s.prototype._addToQueue=function(t,e){e&&(t=t.bind(e)),this._queue.queue(t)},s.prototype.pause=function(){this._animator.pause(),this._balloon.pause()},s.prototype.resume=function(){this._animator.resume(),this._balloon.resume()};var N={Bonzi:function(){return _("Bonzi")},Clippy:function(){return _("Clippy")},F1:function(){return _("F1")},Genie:function(){return _("Genie")},Genius:function(){return _("Genius")},Links:function(){return _("Links")},Merlin:function(){return _("Merlin")},Peedy:function(){return _("Peedy")},Rocky:function(){return _("Rocky")},Rover:function(){return _("Rover")}},E=[],y=[];(function(t,e){if(t&&typeof document<"u"){var i,n=e.prepend===!0?"prepend":"append",o=e.singleTag===!0,a=typeof e.container=="string"?document.querySelector(e.container):document.getElementsByTagName("head")[0];if(o){var r=E.indexOf(a);r===-1&&(r=E.push(a)-1,y[r]={}),i=y[r]&&y[r][n]?y[r][n]:y[r][n]=u()}else i=u();t.charCodeAt(0)===65279&&(t=t.substring(1)),i.styleSheet?i.styleSheet.cssText+=t:i.appendChild(document.createTextNode(t))}function u(){var l=document.createElement("style");if(l.setAttribute("type","text/css"),e.attributes)for(var h=Object.keys(e.attributes),c=0;c<h.length;c++)l.setAttribute(h[c],e.attributes[h[c]]);var L=n==="prepend"?"afterbegin":"beforeend";return a.insertAdjacentElement(L,l),l}})(`.clippy, .clippy-balloon {
    position: fixed;
    z-index: 1000;
    cursor: pointer;
}

.clippy-balloon {

    background: #FFC;
    color: black;
    padding: 8px;
    border: 1px solid black;
    border-radius: 5px;

}

.clippy-content {
    max-width: 200px;
    min-width: 120px;
    font-family: "Microsoft Sans", sans-serif;
    font-size: 10pt;
}

.clippy-tip {
    width: 10px;
    height: 16px;
    background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAgCAMAAAAlvKiEAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAlQTFRF///MAAAA////52QwgAAAAAN0Uk5T//8A18oNQQAAAGxJREFUeNqs0kEOwCAIRFHn3//QTUU6xMyyxii+jQosrTPkyPEM6IN3FtzIRk1U4dFeKWQiH6pRRowMVKEmvronEynkwj0uZJgR22+YLopPSo9P34wJSamLSU7lSIWLJU7NkNomNlhqxUeAAQC+TQLZyEuJBwAAAABJRU5ErkJggg==) no-repeat;
    position: absolute;
}

.clippy-top-left .clippy-tip {
    top: 100%;
    margin-top: 0px;
    left: 100%;
    margin-left: -50px;
}

.clippy-top-right .clippy-tip {
    top: 100%;
    margin-top: 0px;
    left: 0;
    margin-left: 50px;
    background-position: -10px 0;

}

.clippy-bottom-right .clippy-tip {
    top: 0;
    margin-top: -16px;
    left: 0;
    margin-left: 50px;
    background-position: -10px -16px;
}

.clippy-bottom-left .clippy-tip {
    top: 0;
    margin-top: -16px;
    left: 100%;
    margin-left: -50px;
    background-position: 0px -16px;
}

`,{});var O={load:function(t){var e=t||{},i=e.name,n=e.successCb,o=e.failCb,a=e.selector;N[i]().then(function(r){var u=new s({agent:r,selector:a});n&&n(u)}).catch(function(r){o&&o(r)})},agents:{}};let m;const k=["Bonzi","Clippy","F1","Genie","Genius","Links","Merlin","Peedy","Rocky","Rover"],w=["New to our project? Let me show you around!","What brings you here today? Need help with something?","We're always improving! Check out our latest updates.","Want to get involved? We love contributions from our community!","Stuck on something? Don't worry, we've got resources to help!","Thanks for checking out our project! We're glad you're here.","We're passionate about building something amazing. Want to join us?","What do you think of our project so far? We'd love to hear your feedback!","Ready to dig in? We've got plenty of resources to get you started.","We're always learning and growing. Stay tuned for exciting updates!"],P=f.createContext({speak:()=>{}}),I=({children:t,...e})=>{f.useEffect(()=>{const n=k[Math.floor(Math.random()*k.length)];m||O.load({name:n,successCb:o=>{m=o,m.show(),m.play("Wave");const a=w[Math.floor(Math.random()*w.length)];m.speak(a),m._el.addEventListener("click",()=>{const r=w[Math.floor(Math.random()*w.length)];i(r,!0)})}})},[]);const i=(n,o=!1)=>{m.speak(n),o&&m.animate()};return f.createElement(P.Provider,{value:{speak:i}},t({...e,speak:i}))};I.__docgenInfo={description:"",methods:[],displayName:"ClippyProvider"};const{makeDecorator:D}=__STORYBOOK_MODULE_PREVIEW_API__,R=D({name:"withClippy",parameterName:"clippy",skipIfNoParametersOrOptions:!1,wrapper:(t,e)=>f.createElement(I,null,i=>t({...e,...i}))}),G={selectedTheme:{name:"Theme",description:"Global theme for components",defaultValue:"win95"}},U=[W,R];export{U as decorators,G as globalTypes};
