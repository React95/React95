import{r as s,R as e}from"./index-9fa1aa67.js";import{F as v}from"./Frame-d1abb87e.js";import{T}from"./Tooltip-210aa1f5.js";/* empty css                               */import{c as V}from"./createRuntimeFn-62c9670f.esm-edc6fb2c.js";import{lE as W}from"./Write1-9f388b9d.js";import{u as B,a as w}from"./Modal-70b2fd91.js";var A="r95_1ct83mo0",L="r95_1ct83mo1",F=V({defaultClassName:"r95_1ct83mo2",variantClassNames:{small:{true:"r95_1ct83mo3",false:"r95_1ct83mo4"},active:{true:"r95_1ct83mo5",false:"r95_1ct83mo6"}},defaultVariants:{},compoundVariants:[[{active:!0,small:!0},"r95_1ct83mo7"],[{active:!0,small:!1},"r95_1ct83mo8"]]}),j="r95_1ct83mo9";const k=()=>{const[i,c]=s.useState("");return s.useEffect(()=>{function r(t){return t<10?`0${t}`:t}const n=setInterval(()=>{const t=new Date,l=t.getHours(),d=t.getMinutes();c(`${r(l)}:${r(d)}`)});return()=>clearInterval(n)},[]),e.createElement(v,{boxShadow:"$in",px:"$6",py:"$2",display:"flex",justifyContent:"center",alignItems:"center"},e.createElement(T,{className:L},i))};k.__docgenInfo={description:"",methods:[],displayName:"Clock"};const x=s.forwardRef(({children:i,small:c=!1,icon:r,active:n=!1,...t},l)=>e.createElement("button",{className:F({active:n,small:c}),...t,ref:l},e.createElement("div",{className:j},r),i));x.__docgenInfo={description:"",methods:[],displayName:"WindowButton",props:{small:{defaultValue:{value:"false",computed:!1},required:!1},active:{defaultValue:{value:"false",computed:!1},required:!1}}};const q=s.forwardRef(({list:i,className:c},r)=>{const[n,t]=s.useState(!1),[l,d]=s.useState(!1),[C,h]=e.useState([]),[u,y]=s.useState(),{minimize:M,restore:S,focus:b,subscribe:f}=B();return s.useEffect(()=>{const E=o=>{if(!o.id){console.warn("Modal added without ID");return}h(m=>m.some(p=>p.id===o.id)?m:[...m,o])},_=o=>{h(m=>{const p=m.filter(R=>R.id!==o.id),$=p.at(-1);return u===o.id&&$&&b($.id),p})},g=({id:o})=>{y(o)},a=f(w.AddModal,E),N=f(w.RemoveModal,_),I=f(w.ModalVisibilityChanged,g);return()=>{a(),N(),I()}},[u,f,b]),e.createElement(v,{position:"fixed",bottom:"0px",left:"0px",right:"0px",display:"flex",justifyContent:"space-between",h:"28px",w:"100%",padding:"$2",zIndex:"$taskbar",backgroundColor:"$material",boxShadow:"$out",ref:r,className:c},n&&e.createElement(v,{position:"absolute",bottom:"28px",onClick:()=>{d(!1),t(!1)}},i),e.createElement(x,{small:!0,icon:e.createElement(W,{variant:"32x32_4"}),active:l,onClick:()=>{d(!l),t(!n)}},"Start"),e.createElement(v,{w:"100%",paddingLeft:"$0",ml:"$2",display:"flex"},C.map(({icon:E,title:_,hasButton:g,id:a})=>g&&e.createElement(x,{key:a,icon:E,active:a===u,onClick:()=>{a===u?(M(a),y(void 0)):(S(a),b(a))},small:!1},e.createElement("div",{className:A},_)))),e.createElement(k,null))});q.__docgenInfo={description:"",methods:[],displayName:"TaskBar"};export{q as T};
